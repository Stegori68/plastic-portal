<!DOCTYPE html>
<html>
<head>
    <title>Gestione Materiali</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
    <body>
        <h1>Gestione Materiali</h1>

        {% if current_user.is_authenticated and current_user.role == 'admin' %}
        <p><a href="{{ url_for('admin_dashboard') }}">Torna alla Dashboard Amministrativa</a></p>

        <h2>Materiali Disponibili</h2>
        <ul>
            {% for material in materials %}
            <li>
                {{ material.name }} - Costo: {{ material.currency }} {{ material.cost_per_unit }} - {{ material.width }}x{{ material.length }}x{{ material.thickness }}mm 
                <a href="{{ url_for('edit_material', material_id=material.id) }}">Modifica</a>
                <form method="POST" action="{{ url_for('delete_material', material_id=material.id) }}" style="display: inline;">
                    <button type="submit" onclick="return confirm('Sei sicuro di voler eliminare questo materiale?')">Elimina</button>
                </form>
            </li>
            {% endfor %}
        </ul>

        <h3>Aggiungi Nuovo Materiale</h3>
        <p><a href="{{ url_for('add_material') }}">Aggiungi Materiale</a></p>
        
        {% else %}
        <p>Accesso non autorizzato.</p>
        <p><a href="{{ url_for('login') }}">Effettua il Login come Amministratore</a></p>
        {% endif %}
        
    </body>
</html>